<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App</title>
  <link rel="stylesheet" href="app.css">
</head>
<body>
  <!-- Left Column -->
  <div class="column">
    <p>Total Cost</p>
    <input type="number" id="totalCost"> <span>MMK</span>
    <p>Total Profit</p>
    <input type="number" id="totalProfit"> <span>MMK</span>
    <p id="PR">Profit Rate : </p>
    <br><br>
    <p>X Invest</p>
    <input type="number" id="xInvest"> <span>MMK</span>
    <br><br>
    <button id="cal" onclick="click_for_X()">Calculate</button>
    <br>
    <p>X Exceeded Invest</p>
    <input type="text" id="ExceedInvest"> <span>MMK</span>
    <p>Actual Usage of X Invest</p>
    <input type="text" id="InvestUsage"> <span>MMK</span>

    <p id="XP"> Total invested percentage of X : </p>
    <p id="XS"> Profit share of X : </p>
    <p id="XR"> X Profit Rate : </p>
    <p id="XF"> Formula of X : (Total Profit) x (Total invested percentage of X) x 30% </p>
    <br>
  </div>

  <script>
    const click_for_X = () => {
      let totalCost = parseFloat(document.getElementById(`totalCost`).value);
      let totalProfit = parseFloat(document.getElementById(`totalProfit`).value);
      let PR = document.getElementById(`PR`);
      let xInvestElement = document.getElementById(`xInvest`);
      let XP = document.getElementById(`XP`);
      let XS = document.getElementById(`XS`);
      let XR = document.getElementById(`XR`);
      let XF = document.getElementById(`XF`);

      // Profit Rate Calculation
      let CPR = (totalProfit / totalCost) * 100;
      PR.innerText = `Profit Rate : ${CPR % 1 === 0 ? CPR : CPR.toFixed(2)}%`;

      // Handle X Investments
      if (xInvestElement) {
        let xInvest = parseFloat(xInvestElement.value);
        let CXP = (xInvest / totalCost) * 100;
        XP.innerText = `Total invested percentage of X : ${CXP % 1 === 0 ? CXP : CXP.toFixed(2)}%`;
        XF.innerText = `Formula of X : ${totalProfit} x ${(CXP / 100).toFixed(1)} x 0.3`;

        let CXS = totalProfit * (CXP / 100) * 0.3;
        XS.innerText = `Profit share of X : ${CXS % 1 === 0 ? CXS : CXS.toFixed(2)} MMK`;

        let CXR = (CXS / xInvest) * 100;
        XR.innerText = `X Profit Rate : ${CXR % 1 === 0 ? CXR : CXR.toFixed(2)}%`;
      }
    };
  </script>

</body>
</html>
